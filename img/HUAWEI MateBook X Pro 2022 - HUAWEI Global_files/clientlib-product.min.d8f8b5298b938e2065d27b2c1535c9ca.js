var getPdpCookieTipHeight=function(){var height=$(".group_tips").height();return height};function go_buy(){var cookieTipsHeight=getPdpCookieTipHeight(),column13Top=$(".column13").position().top,heightValue=70;if(parseInt(window.innerWidth)<768)heightValue=80;$("html, body").animate({"scrollTop":parseInt(column13Top+cookieTipsHeight-heightValue)+"px"},1E3)}
$(document).ready(function(){$(window).scroll(function(){if($(window).scrollTop()>0){var isRegionSelectorVisible=$(".region_selector_module.slide_wrap").is(":visible");var isSearchModuleVisible=$(".search_module.wrap_search.slide_wrap").is(":visible");var isMobile=$("#normal_nav .icon_menu").is(":visible");var isMenuVisible=$("#normal_nav .navcon .menu").is(":visible");if(isRegionSelectorVisible||isSearchModuleVisible||isMobile&&isMenuVisible||$("[wrap\x3dwrap_phones]").attr("class")=="menu_wrap current"||
$("[wrap\x3dwrap_others]").attr("class")=="menu_wrap current")$("#pdp_nav").css("display","none");else{$("#pdp_nav").css("display","block");setTimeout(function(){if($("#normal_nav").css("display")=="block")$("#pdp_nav").css("top",getPdpCookieTipHeight());else $("#pdp_nav").css("top",0)},50)}}else $("#pdp_nav").css("display","none")})});
$(document).ready(function(){var pdpNavigationMenuLocationHref=document.location.pathname;if(pdpNavigationMenuLocationHref.indexOf("/support/")!=-1){$("#pdpComponentButtom").css("display","none");$("#pdpComponentProductSupport").addClass("current")}else if(pdpNavigationMenuLocationHref.indexOf("/specs")!=-1)$("#pdpComponentSpecification").addClass("current");else if(pdpNavigationMenuLocationHref.indexOf("/information")!=-1){$("#pdpComponentButtom").css("display","none");$("#pdpComponentInformationation").addClass("current")}});
var v4_PDPAppStatistic={init:function(){var isAppWebview=window.integrationJsInterface||window.integrationJsInterfaceWebview;var data=window.digitalData;var isPdpPage=data.page.category.pageType=="product-detail";var productName=data.product&&data.product.productInfo?data.product.productInfo.marketingName:"";if(isAppWebview){var jsBridgeLibPath="/etc/designs/huawei-cbg-site/statics/js-bridge.js";$.getScript(jsBridgeLibPath,function(){v4_PDPAppStatistic.bindAppFaAction(isPdpPage,productName);v4_PDPAppStatistic.sendAppStatisticData(isPdpPage,
productName)})}},callAppStatisticsData:function(productName){var pageLoadDelay=window.performance.timing.domContentLoadedEventEnd-window.performance.timing.navigationStart;var subModuleName=getMktDmpaSubModuleName();var propertyObj={"product_name":productName};var additionalProperty=JSON.stringify(propertyObj);window.clientJsBridge.call({path:"jsp://com.huawei.phoneservice/track/sendTrack",type:"trackPageView",json:{title:document.title,location:location.href,uri:location.pathname,referrerUrl:"",
pageLoadDelay:pageLoadDelay,pageHierarchy:0,trackSource:"",trackMedium:"",trackCampaign:"",trackContent:"",trackTerm:"",subModuleName:subModuleName,additionalProperty:additionalProperty}})},sendAppStatisticData:function(isPdpPage,productName){if(enableAppDmpa&&isPdpPage&&productName)v4_PDPAppStatistic.callAppStatisticsData(productName)},bindAppFaAction:function(isPdpPage,productName){if(enableAppFa&&productName){v4_PDPAppStatistic.bindSwitchCategoryAction(productName);v4_PDPAppStatistic.bindBuyButtonClickAction(productName)}},
bindSwitchCategoryAction:function(productName){$(".product-tabs__links .product-tabs__links-item").click(function(){var buttonName=$(this).find(".product-tabs__link").data("title");if(buttonName)window.clientJsBridge.call({path:"jsp://com.huawei.phoneservice/track/sendFaTrack",type:"switch_category",json:{current_screen:"Store_Product Description_ "+productName,button_name:buttonName}})})},bindBuyButtonClickAction:function(productName){$("#second-nav-buy-button").click(function(){window.clientJsBridge.call({path:"jsp://com.huawei.phoneservice/track/sendFaTrack",
type:"purchase_intent",json:{current_screen:"Store_Product Description_ "+productName,button_name:"buy"}})})}};$(function(){v4_PDPAppStatistic.init()});
function converString2(str){if(str==null)return"";else{str=str.toString();str=str.replace(/<>/g,"");str=str.replace(/\+/g," ");str=str.replace(/@\(R\)@/g,"\u00ae");str=str.replace(/@\(-7\)@/g,"\x26");str=str.replace(/@\(-8\)@/g,"+");str=str.replace(/@\(-9\)@/g,"'");str=str.replace(/@\(TM\)@/g,"\u2122");str=str.replace(/@\(C\)@/g,"\u00a9");str=str.replace(/&amp;quot;/g,'"');return str}}var iscompare=1;var cpbi2="31001";var comparedata="";
function defaultCompares(){var separator=";";var productNames="";for(var i=1;i<=4;i++){var pn=getURLParam("pro"+i);if(pn){autoSelect(pn,i-1);if(pn)productNames=productNames.concat(pn).concat(separator)}}if(productNames&&productNames.endsWith(separator))productNames=productNames.substring(0,productNames.length-1);if(productNames)analyticsSubmit("Site Search","Filter by",productNames+" - \x3cpage title\x3e",EVENT_COMPARISON_FILTER,{products:productNames})}
function autoSelect(n,index){var $s=$(".compare_content .conv3_global_selector .select").eq(index);var $sl=$s.find("li");var l=$sl.length;for(var i=0;i<l;i++)if(n==$sl.eq(i).attr("n")){selectProductCompare($sl.eq(i));break}}function selectProductCompare($obj){var _index=$obj.attr("p");$obj.parents(".select").addClass("disable");var _n=$obj.attr("data-product-path");var currentPage=$(".compare_wrap").data("current-page");getProInfo(_n,_index,currentPage)}
function getProInfo(productPath,flg,currentPage){var productAdminPage=deleteHttp(productPath.replace("/jcr:content/product",""));$.ajax({type:"GET",async:false,url:productAdminPage+"/_jcr_content.compareinfo.json"+currentPage,success:function(data){setCompareInfo(data,flg)}})}
function setCompareInfo(data,i){var pro=data.productInfo;var colors=data.productColors;var featurePage=data.featurePage;var $pc=$(".compare_wrap .pro_content").eq(i);$pc.addClass("active");$pc.find(".column_phone_name").text(pro.marketingName).show();$pc.find(".column_pic_bg").attr("href",featurePage).append("\x3cimg src\x3d'"+pro.assetPath+"' title\x3d'"+pro.marketingName+"'\x3e");$pc.find(".column_remove_btn").show();$(".compare_part_base").each(function(){var propertyKey=$(this).data("property-key");
var propertyValue=converString2(pro[propertyKey]);if(propertyKey=="color")propertyValue=convertColor(colors);else if(propertyKey=="size")propertyValue=getSizeDesc(pro);$(".compare_property_"+propertyKey+" .compare_uList li").eq(i).removeClass("none").append("\x3ci class\x3d'compare_txt'\x3e"+propertyValue+"\x3c/i\x3e")})}function newLine(str){var re=/;/g;return str.replace(re,"; ")}function newLine2(str){var re=/\//g;return str.replace(re,", ")}
function convertColor(colorObject){if(!colorObject)return"";var colors=[];for(var i in colorObject)colors.push(colorObject[i]);return colors.join(",")}
function getSizeDesc(pro){var sizeTitles={"size_width":$("#compare-product-model").data("width-title"),"size_height":$("#compare-product-model").data("height-title"),"size_depth":$("#compare-product-model").data("depth-title"),"size_weight":$("#compare-product-model").data("weight-title")};if(pro==null||typeof pro!="object")return"";var sizeKeys=["size_width","size_height","size_depth","size_weight"];var sizes=[];for(var i=0;i<sizeKeys.length;i++){var key=sizeKeys[i];if(pro[key]){var desc=sizeTitles[key]+
":"+pro[key];sizes.push(desc)}}return sizes.join(",")}
$(document).on("click",".column_remove_btn",function(event){event=event||window.event;event.stopPropagation();var $o=$(this).parents(".pro_content");var _index=$(this).attr("p");var $sl=$(".compare_wrap .compare_Model .compare_content .compare_list .conv3_global_selector .select").eq(_index);$o.find(".column_pic_bg,.column_phone_name").empty();$o.find(".column_phone_name,.column_remove_btn").hide();$o.removeClass("active");var title=$sl.find("span").data("text");$sl.removeClass("disable").find("span").text(title);
$sl.find("li").removeClass("current");$(".compare_wrap .compare_part_base").each(function(e){$(this).find(".compare_uList li").eq(_index).empty().addClass("none")});var productNames="";var separator=";";$(".compare_uList").find("li").each(function(){var pn=$(this).find(".column_phone_name").text();if(pn)productNames=productNames.concat(pn).concat(separator)});if(productNames&&productNames.endsWith(separator))productNames=productNames.substring(0,productNames.length-1);analyticsSubmit("Site Search",
"Filter by",productNames+" - \x3cpage title\x3e",EVENT_COMPARISON_FILTER,{products:productNames})}).on("click",".compare_wrap .compare_center",function(e){if($(".compare_content .column_colse:visible").length>0){var thisCenter=$(this),thisIcon=thisCenter.find(".column_colse");if(thisIcon.hasClass("active")){thisIcon.removeClass("active");thisCenter.parent(".compare_title").siblings(".compare_list").stop().slideUp(250)}else{thisCenter.parent(".compare_title").siblings(".compare_list").stop().slideDown(250);
thisIcon.addClass("active")}}}).on("click",".pro_back",function(e){var $p_wrap=$(this).attr("categoryId")=="31"?$(".menu_module_allphone"):$(".menu_module_tablets");var pbi2=$(this).attr("categoryId");if(pbi2=="31")menuPageHistory.pages.push(".see_all_phone.common_menu.wrap_phones");else if($(".wrap_tablets").length>0&&pbi2=="36")menuPageHistory.pages.push(".explore.common_menu.wrap_tablets");else menuPageHistory.pages.push(".explore.common_menu.wrap_others");menuPageHistory.PushPage($p_wrap.find(".common_menu"),
function(){$p_wrap.find(".see_phone_uList").empty();setProducts(0,prosize-1,$p_wrap,pbi2)})});var compare_wrap=$(".compare_wrap"),columnColse=compare_wrap.find(".column_colse");columnColse.each(function(index){if(viewType()=="mobile")if(columnColse.eq(index).hasClass("active"))$(this).parent(".compare_center").parent(".compare_title").siblings(".compare_list").css("display","block");else $(this).parent(".compare_center").parent(".compare_title").siblings(".compare_list").css("display","none")});
$(window).resize(function(){columnColse.each(function(index){if(viewType()=="mobile")if(columnColse.eq(index).hasClass("active"))$(this).parent(".compare_center").parent(".compare_title").siblings(".compare_list").css("display","block");else $(this).parent(".compare_center").parent(".compare_title").siblings(".compare_list").css("display","none");else if(!columnColse.eq(index).hasClass("active"))$(this).parent(".compare_center").parent(".compare_title").siblings(".compare_list").css("display","block")})});
$(".compare_list .select ol li").click(function(){var that=this;var productNames="";var separator=";";var index=$(that).closest(".compare_list").find(".select").index($(that).closest(".select"));$(that).closest(".compare_list").find(".column_phone_name").each(function(i,obj){var pn=i==index?$(that).text():$(obj).text();if(pn)productNames=productNames.concat(pn).concat(separator)});if(productNames.endsWith(separator))productNames=productNames.substring(0,productNames.length-1);analyticsSubmit("Site Search",
"Filter by",productNames+" - \x3cpage title\x3e",EVENT_COMPARISON_FILTER,{products:productNames})});$(document).ready(function(){$(".compare_content .conv3_global_selector").addSelector()});$(document).ready(function(){if(window.location.hash.indexOf("#")===0){var section=window.location.hash.substring(1);if($("#"+section).length>0)setTimeout(function(){$("html,body").animate({scrollTop:$("#"+section).offset().top-100},500)},200)}});
function isIEBrowser(){if(!!window.ActiveXObject||"ActiveXObject"in window)return true;else return false};